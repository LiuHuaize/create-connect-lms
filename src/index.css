@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 43 40% 94%; /* 更亮的米色背景 #F5F2E9 - Ghibli风格的奶油色 */
    --foreground: 30 20% 20%; /* 深棕色文字 #403933 - 适合Ghibli风格的深棕色 */

    --card: 48 39% 96%; /* 非常浅的米色卡片 #F2EFE6 - UI中标注的颜色 */
    --card-foreground: 30 20% 20%; /* 深棕色文字 #403933 */

    --popover: 48 39% 96%; /* 非常浅的米色弹出框 #F2EFE6 */
    --popover-foreground: 30 20% 20%; /* 深棕色文字 #403933 */

    --primary: 176 47% 61%; /* 蓝绿色主色 #6FC5BE - 图片中按钮和活跃元素的颜色 */
    --primary-foreground: 0 0% 100%; /* 纯白色 #FFFFFF */

    --secondary: 27 62% 87%; /* 浅棕色次要色 #F7E8CD - Ghibli风格的沙色 */
    --secondary-foreground: 30 20% 20%; /* 深棕色文字 #403933 */

    --muted: 27 50% 93%; /* 柔和的浅米色 #F9F0E2 */
    --muted-foreground: 30 10% 40%; /* 灰棕色文字 #706B65 */

    --accent: 173 30% 82%; /* 淡蓝绿色强调 #D4E5E3 - 图片中的淡蓝绿色 */
    --accent-foreground: 176 47% 30%; /* 深蓝绿色文字 #386964 */

    --destructive: 0 65% 50%; /* 亮红色警告 #C94444 - Ghibli风格的红色 */
    --destructive-foreground: 0 0% 100%; /* 纯白色 #FFFFFF */

    --border: 27 30% 87%; /* 边框米色 #E9DED0 */
    --input: 27 30% 87%; /* 输入框边框 #E9DED0 */
    --ring: 176 47% 61%; /* 蓝绿色环 #6FC5BE */

    --radius: 0.8rem; /* 适合Ghibli风格的圆角 */

    --sidebar-background: 48 39% 96%; /* 浅米色侧边栏 #F2EFE6 */
    --sidebar-foreground: 30 20% 20%; /* 深棕色文字 #403933 */
    --sidebar-primary: 176 47% 61%; /* 蓝绿色主色 #6FC5BE */
    --sidebar-primary-foreground: 0 0% 100%; /* 纯白色 #FFFFFF */
    --sidebar-accent: 173 30% 82%; /* 淡蓝绿色强调 #D4E5E3 */
    --sidebar-accent-foreground: 176 47% 30%; /* 深蓝绿色文字 #386964 */
    --sidebar-border: 27 30% 87%; /* 边框米色 #E9DED0 */
    --sidebar-ring: 176 47% 61%; /* 蓝绿色环 #6FC5BE */
  }

  .dark {
    --background: 30 20% 20%; /* 深棕色背景 #403933 - Ghibli风格的深棕色 */
    --foreground: 48 39% 96%; /* 浅米色文字 #F2EFE6 */

    --card: 30 20% 25%; /* 深棕色卡片 #4D4439 */
    --card-foreground: 48 39% 96%; /* 浅米色文字 #F2EFE6 */

    --popover: 30 20% 25%; /* 深棕色弹出框 #4D4439 */
    --popover-foreground: 48 39% 96%; /* 浅米色文字 #F2EFE6 */

    --primary: 176 47% 50%; /* 较暗蓝绿色 #50B3AB */
    --primary-foreground: 0 0% 100%; /* 纯白色 #FFFFFF */

    --secondary: 30 20% 30%; /* 深棕色次要色 #59504A */
    --secondary-foreground: 48 39% 96%; /* 浅米色文字 #F2EFE6 */

    --muted: 30 20% 28%; /* 暗棕色 #534A3F */
    --muted-foreground: 30 15% 70%; /* 灰棕色文字 #B5ADA3 */

    --accent: 176 47% 35%; /* 深蓝绿色强调 #386964 */
    --accent-foreground: 173 30% 82%; /* 淡蓝绿色文字 #D4E5E3 */

    --destructive: 0 65% 50%; /* 深红色警告 #C94444 */
    --destructive-foreground: 0 0% 100%; /* 纯白色 #FFFFFF */

    --border: 30 20% 30%; /* 边框深棕色 #59504A */
    --input: 30 20% 30%; /* 输入框边框 #59504A */
    --ring: 176 47% 50%; /* 蓝绿色环 #50B3AB */
    
    --sidebar-background: 30 20% 18%; /* 深棕色侧边栏 #3A3329 */
    --sidebar-foreground: 48 39% 96%; /* 浅米色文字 #F2EFE6 */
    --sidebar-primary: 176 47% 50%; /* 较暗蓝绿色 #50B3AB */
    --sidebar-primary-foreground: 0 0% 100%; /* 纯白色 #FFFFFF */
    --sidebar-accent: 176 47% 30%; /* 深蓝绿色强调 #306964 */
    --sidebar-accent-foreground: 173 30% 82%; /* 淡蓝绿色文字 #D4E5E3 */
    --sidebar-border: 30 20% 28%; /* 边框暗棕色 #534A3F */
    --sidebar-ring: 176 47% 50%; /* 蓝绿色环 #50B3AB */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    @apply scroll-smooth;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "ss01", "ss02", "cv01", "cv02", "cv03";
  }

  /* 更新玻璃卡片样式，使用更友好的阴影和边框 */
  .glass-card {
    @apply bg-ghibli-parchment/95 backdrop-blur-md border-2 border-ghibli-teal/30 shadow-md rounded-2xl;
  }
  
  /* 更新高级模糊效果 */
  .premium-blur {
    @apply backdrop-blur-lg bg-ghibli-parchment/30 border-2 border-ghibli-teal/20 rounded-2xl;
  }
  
  /* 更新文本渐变 */
  .text-gradient {
    @apply bg-gradient-to-r from-ghibli-teal to-ghibli-deepTeal bg-clip-text text-transparent;
  }
  
  /* 更新悬停缩放效果 */
  .hover-scale {
    @apply transition-all duration-300 hover:scale-[1.03] hover:shadow-md;
  }
  
  /* 更新侧边栏链接样式 */
  .sidebar-link {
    @apply flex items-center gap-3 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-200;
  }
  
  .sidebar-link.active {
    @apply bg-ghibli-lightTeal text-ghibli-deepTeal;
  }
  
  .sidebar-link:not(.active) {
    @apply text-ghibli-brown hover:bg-ghibli-sand;
  }
  
  /* 更新课程页面样式 */
  .course-card {
    @apply bg-ghibli-parchment rounded-2xl shadow-md border-2 border-ghibli-sand hover:shadow-lg hover:border-ghibli-teal/50 transition-all duration-300;
  }
  
  .course-section-header {
    @apply bg-gradient-to-r from-ghibli-lightTeal to-ghibli-sand border-b-2 border-ghibli-teal/30 px-6 py-4 rounded-t-xl;
  }
  
  .lesson-item {
    @apply transition-all duration-200 hover:bg-ghibli-lightTeal/50;
  }
  
  .lesson-item.active {
    @apply bg-ghibli-lightTeal/50 border-l-4 border-ghibli-teal;
  }
  
  .quiz-container {
    @apply bg-ghibli-parchment rounded-2xl shadow-md border-2 border-ghibli-sand p-6 mb-6;
  }
  
  .quiz-option {
    @apply flex items-center p-3 rounded-xl border-2 border-ghibli-sand hover:border-ghibli-teal hover:bg-ghibli-lightTeal/50 transition-all duration-200 cursor-pointer mb-3;
  }
  
  .interactive-container {
    @apply bg-gradient-to-br from-ghibli-lightTeal to-ghibli-sand rounded-2xl p-8 mb-6 flex items-center justify-center border-2 border-ghibli-teal/30;
  }

  /* 为小朋友添加一些有趣的按钮样式 */
  .btn-kids {
    @apply rounded-full bg-ghibli-teal text-white py-3 px-6 font-medium shadow-md 
    hover:bg-ghibli-skyBlue hover:shadow-lg hover:scale-105 transition-all duration-300 
    border-2 border-ghibli-teal/80;
  }

  /* 添加可爱的卡片样式 */
  .card-kids {
    @apply bg-ghibli-parchment rounded-3xl shadow-md border-2 border-ghibli-sand
    hover:shadow-lg hover:border-ghibli-teal/50 transition-all duration-300 
    overflow-hidden relative p-6;
  }

  /* 添加有趣的进度条样式 */
  .progress-kids {
    @apply h-4 bg-ghibli-sand rounded-full overflow-hidden border border-ghibli-teal/30;
  }
  
  .progress-kids-fill {
    @apply h-full bg-gradient-to-r from-ghibli-teal to-ghibli-skyBlue 
    transition-all duration-700 ease-in-out rounded-full;
  }

  /* 儿童友好的彩色选项卡 */
  .tab-kids {
    @apply bg-ghibli-sand px-4 py-2 rounded-t-xl font-medium border-2 border-b-0
    border-ghibli-teal/30 transition-all duration-200;
  }
  
  .tab-kids.active {
    @apply bg-ghibli-parchment border-ghibli-teal/50 text-ghibli-deepTeal;
  }
  
  /* 儿童友好的导航菜单 */
  .nav-kids {
    @apply flex gap-2 p-2 bg-ghibli-cream rounded-2xl border-2 border-ghibli-teal/30 shadow-md;
  }
  
  .nav-item-kids {
    @apply px-4 py-2 rounded-xl font-medium transition-all duration-200
    hover:bg-ghibli-sunshine hover:text-ghibli-brown;
  }
  
  .nav-item-kids.active {
    @apply bg-ghibli-mint text-ghibli-deepTeal;
  }
  
  /* 彩虹边框效果 */
  .rainbow-border-kids {
    @apply relative p-1 rounded-2xl;
    background: linear-gradient(45deg, 
      var(--tw-gradient-stops));
    --tw-gradient-from: #6FC5BE var(--tw-gradient-from-position);
    --tw-gradient-to: #7CD5FF var(--tw-gradient-to-position);
    --tw-gradient-stops: var(--tw-gradient-from), #FFDC7C, #FF8C7C, #A0D995, var(--tw-gradient-to);
  }
  
  .rainbow-border-kids > * {
    @apply bg-ghibli-parchment rounded-2xl relative z-10;
  }
  
  /* 可爱的阴影效果 */
  .shadow-kids {
    box-shadow: 4px 8px 0 rgba(82, 72, 58, 0.2);
    @apply transition-all duration-200;
  }
  
  .shadow-kids:hover {
    box-shadow: 6px 12px 0 rgba(82, 72, 58, 0.15);
    @apply -translate-y-1;
  }

  /* 添加活动页面特定样式 */
  .event-date-block {
    @apply bg-ghibli-teal text-white rounded-lg overflow-hidden;
  }

  .event-tag {
    @apply inline-block bg-ghibli-lightTeal text-ghibli-deepTeal px-3 py-1 rounded-full text-xs font-medium;
  }

  .event-card {
    @apply bg-ghibli-parchment rounded-xl p-4 hover:shadow-md transition-all duration-200 border border-ghibli-sand;
  }
  
  .event-register-btn {
    @apply bg-ghibli-teal text-white px-4 py-2 rounded-full font-medium shadow-sm hover:shadow-md hover:bg-ghibli-deepTeal transition-all duration-200;
  }

  .month-nav-btn {
    @apply p-2 rounded-full hover:bg-ghibli-lightTeal transition-all duration-200;
  }
}

/* 修复react-beautiful-dnd拖拽问题 */
[data-rbd-draggable-context-id] {
  transform: translate(0, 0) !important;
}

/* 样式拖拽中的元素 */
[data-rbd-draggable-id][data-rbd-drag-handle-draggable-id] {
  @apply z-50 shadow-lg;
}
