
CREATE OR REPLACE FUNCTION decrement(x INTEGER)
RETURNS INTEGER AS $$
  BEGIN
    RETURN GREATEST(0, x - 1);
  END;
$$ LANGUAGE plpgsql IMMUTABLE;
